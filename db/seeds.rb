# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).
#
# Examples:
#
#   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])
#   Character.create(name: 'Luke', movie: movies.first)
#=begin
require 'pg'
con = PG.connect :dbname => 'pnunoabk', :user => 'postgres'
representantes = con.exec "select rut,dv,nombre_social,count(*) as c from locales group by rut,dv,nombre_social order by c desc;"
representantes.each { |representante|

  representante_new = Representante.new
  representante_new.rut = representante['rut']
  representante_new.dv  = representante['dv']
  representante_new.nombre_social = representante['nombre_social']
  representante_new.save()


}

result = con.exec "select * from patentes;"

result.each{ |patente|
  patente_new = Patente.new
  patente_new.nombre = patente['nombre']
  patente_new.tipo   = patente['tipo']
  patente_new.save()
}





Representante.all().each{ |representante|
  locales  = con.exec "select * from locales where rut =#{representante.rut};"
  locales.each{ |local|


    l = Local.new()
    l.rol =local['rol']
    l.direccion =local['direccion']
    l.error =local['error']
    l.ubicacion =local['ubicacion']
    l.patentes_id =local['patentes_id']
    l.giro =local['giro']
    l.representantes_id = representante.id
    l.save()

  }
}
#=end


GEO_FACTORY = RGeo::Geographic.spherical_factory(srid: 4326)




comuna_new = Comuna.new()
comuna_new.nombre ="Municipalidad de Ñuñoa"
comuna_new.area ='0103000020E61000000100000073000000054F21576AA851C031C73C3C95B940C0A572C9271AA851C076F63A4E76B940C08B4DD0CBCDA751C00306499F56B940C076DABF5799A751C0F6CFD38041B940C037CFC76B94A751C03EBFDEB364B940C0E723DF5B47A751C0A4FACE2F4AB940C0876EF6074AA751C0BBE2F3D434B940C050F5D0E31CA751C0A547F88326B940C0D79D9383FEA651C0DECB7D7214B940C03CB0D293E8A651C030A182C30BB940C0DE7EAFD7AAA651C0D31742CEFBB840C0B092EA9678A651C02CE400B0F0B840C06292808758A651C063DB583FECB840C0BB922E4759A651C0A4C16D6DE1B840C076C185E148A651C05F7D3CF4DDB840C0C34A60CE47A651C0563BD400EFB840C070CFF3A70DA651C093B135B632B940C01803907F0BA651C080B09D3935B940C0F189D063EFA551C09A47591A53B940C0A154B1E7A1A551C0639005966DB840C0868CECEF91A551C0DAD605723FB840C0DBDBD20F8FA551C073FCAB2237B840C01131CAD875A551C090C657F1FCB740C091E2D2E759A551C09ED55D34BFB740C01A70F14B58A551C088E7B68EBBB740C0CA83995B46A551C05DBAEE528FB740C019FF3EE342A551C06FA69DF584B740C05492D0F12CA551C0D87047EE9FB740C0C9343FA319A551C0EBD9BD26B5B740C04602B27C02A551C0EA5509BBCDB740C03BE4C171F4A451C0F7B0170AD8B740C05A565007E8A451C0656EBE11DDB740C0AEF54542DBA451C0B448C961E6B740C0B0912408D7A451C0B26A6B9FE9B740C0C1745AB7C1A451C0244CACE7FFB740C009CB8E43B3A451C051AD742D10B840C0CA77DFE7AEA451C0E7A15B5430B840C02BA391CFABA451C058F66E3D54B840C0B6C65686A7A451C0FFE2BE7A81B840C0ECC5AB07A7A451C0914836B286B840C0ADBAB31BA2A451C0C8B02F7EBFB840C00419A65B9BA451C00CB732970AB940C08F11F52796A451C0A4FACE2F4AB940C01C9AB2D38FA451C033D9E49590B940C0479B994F8CA451C0BEE60B10BBB940C00848EAF387A451C0AAB5300BEDB940C0D365D6F786A451C00725CCB4FDB940C0D393E81B87A451C088E64BB90CBA40C00848EAF387A451C0374591FF13BA40C07C7DAD4B8DA451C0E80C31033ABA40C025A9F17794A451C03E9A45836FBA40C00447B87F9BA451C04E870442A1BA40C00D28E5FF9FA451C09812EE3AC0BA40C0F97C3958A4A451C03E1B5EB5D7BA40C0D8D248F0ABA451C0ABAA3C26F7BA40C0D2BFC9DBB6A451C02A4C29F922BB40C01155F833BCA451C0C310397D3DBB40C038DFE3A7CCA451C0C56C6EF195BB40C02A3F04B0DCA451C083763D87E8BB40C022FA5A3CE1A451C0B170ED9F02BC40C04D857824DEA451C03F81C17F04BC40C0BABA08F8DAA451C072207FC40ABC40C0854EBE8FD9A451C0FEE263C10EBC40C038CEB74FD8A451C04397265B13BC40C01BB8A8BBD7A451C0D01154E817BC40C01A14CD03D8A451C0548957FE21BC40C085D8F4FBD9A451C0E017F26327BC40C0594DD713DDA451C0B3C81B052DBC40C02E4CF097E0A451C01D870B8A30BC40C0CB6D56D8E7A451C0DF1A33E433BC40C098D1D913EEA451C05E2EE23B31BC40C0E8CE5D5CF4A451C081295EC026BC40C080947DFC4AA551C0359A5C8C81BC40C0E7CD3C1460A551C018377F5D97BC40C0FA3372CC68A551C0A5F9635A9BBC40C03CD0549973A551C0921271299DBC40C0230AD2318CA551C0F583BA48A1BC40C0DC86ACC9AEA551C09A7D795CAFBC40C029DF7D9FBBA551C011F6926BAFBC40C055CD6218E6A551C0E13433E9A5BC40C0608D583016A651C055C03DCF9FBC40C0912683482BA651C031BC48579FBC40C01E1840F850A651C0BE4AE3BCA4BC40C07B3F7FEB54A651C0F3B9C95EA5BC40C080924C987AA651C06E2B627DA8BC40C0F0366F9C94A651C04AD97D22AABC40C01A64DC1ECEA651C02F0F3E39AFBC40C0F08F526408A751C0F096F5ACB5BC40C043DDAC6642A751C0CAD644B0BBBC40C0CB6D56D867A751C07484C256BFBC40C0A88AA9F493A751C0C0E14F9EC3BC40C0CB958B42DCA751C09EC431DCCABC40C09A7B48F8DEA751C0E0E1D121CBBC40C0DDEF5014E8A751C02B1B310E89BC40C0E6D07D94ECA751C0C7BC8E3864BC40C086353A8CEEA751C0DBEE2FCC53BC40C0BBA184F4EFA751C085FA4CAC42BC40C025805138F1A751C06CC3729538BC40C05A907758F2A751C098F8A3A833BC40C08F728B54F3A751C0765C435F30BC40C02F336C94F5A751C07FA724462ABC40C0040473F4F8A751C0F3322F2C24BC40C0F4C70FF0FFA751C0456458C51BBC40C03D86223809A851C0C206FAFA10BC40C046393D940DA851C0EFA3BF3C09BC40C08DB1B8A40FA851C0C984A97702BC40C0F747CE7811A851C0D303D5F5FABB40C0BB9C121013A851C00E89D6E5EFBB40C0C597E4DB16A851C013B5D9FDCFBB40C00DB21B6C20A851C0AB85483C8FBB40C095A938C42EA851C0B3C2E3912EBB40C01C171FB03CA851C0B31C322FD1BA40C09A5B21AC46A851C02BED1EEA88BA40C0F73DEAAF57A851C068E90AB611BA40C0054F21576AA851C031C73C3C95B940C0'
comuna_new.ubicacion = GEO_FACTORY.point(-70.5959592,-33.4558882)
comuna_new.expiracion=Date.today()+170
comuna_new.borde='#3fb7ff'
comuna_new.fondo='#61aeff'
comuna_new.zoom = 13
comuna_new.save()






user1=Usuario.new
user1.nombre="Marcelo"
user1.apellido="Pizarro"
user1.passwd="demodemo"
user1.email="marcelo.pizarro01@gmail.com"
user1.save

user1=Usuario.new
user1.nombre="Manuel"
user1.apellido="Alba"
user1.email="m.alba@heythink.cl"
user1.passwd="mmae2010"
user1.save

user1=Usuario.new
user1.nombre="Fabian"
user1.apellido="Plaza"
user1.email="f.plaza@heythink.cl"
user1.passwd="sanantonio"
user1.save
